<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTO Mapper 3.0 //EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="example.mapper.transaction.TransactionMapper">
    <insert id="insert" parameterType="example.mapper.transaction.TransactionMapper">
        insert into sys_transaction_record (trans_id, trans_sender_id, trans_receiver_id, trans_how_much, trans_time,
                                            trans_rest_money, trans_pay_way, trans_type, trans_state, trans_notes)
        values (#{transId},#{transSenderId},#{transReceiverId},#{transHowMuch},#{transTime},
                #{transRestMoney},#{transPayWay},#{transType},#{transState},#{transNotes});
    </insert>

    <delete id="delete" parameterType="example.mapper.transaction.TransactionMapper">
        delete
        from sys_transaction_record
        where trans_id=#{transId};
    </delete>

    <update id="update" parameterType="example.mapper.transaction.TransactionMapper">
        update sys_transaction_record
        set trans_id=#{transId},
            trans_sender_id=#{transSenderId},
            trans_receiver_id=#{transReceiverId},
            trans_how_much=#{transHowMuch},
            trans_time=#{transTime},
            trans_rest_money=#{transRestMoney},
            trans_pay_way=#{transPayWay},
            trans_type=#{transType},
            trans_state=#{transState},
            trans_notes=#{transNotes}
        where trans_id = #{transId};
    </update>

    <select id="selectRecordsOfOnePerson" resultType="example.mapper.transaction.TransactionMapper">
        select trans_id,
               trans_sender_id,
               trans_receiver_id,
               trans_how_much,
               trans_time,
               trans_rest_money,
               trans_pay_way,
               trans_type,
               trans_state,
               trans_notes
        from sys_transaction_record
        where trans_sender_id=#{transSenderId} or  trans_receiver_id=#{transReceiverId}
    </select>

    <select id="selectAll" >
        select trans_id,
               trans_sender_id,
               trans_receiver_id,
               trans_how_much,
               trans_time,
               trans_rest_money,
               trans_pay_way,
               trans_type,
               trans_state,
               trans_notes
        from sys_transaction_record;
    </select>
</mapper>